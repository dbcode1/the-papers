{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useModali = undefined;\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _shortid = require('shortid');\n\nvar _shortid2 = _interopRequireDefault(_shortid);\n\nrequire('./modali.css');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Button = function Button(_ref) {\n  var onClick = _ref.onClick,\n      label = _ref.label,\n      isStyleDefault = _ref.isStyleDefault,\n      isStyleCancel = _ref.isStyleCancel,\n      isStyleDestructive = _ref.isStyleDestructive;\n  var buttonClass = (0, _classnames2.default)({\n    'modali-button': true,\n    'modali-button-cancel': isStyleCancel,\n    'modali-button-default': isStyleDefault,\n    'modali-button-destructive': isStyleDestructive\n  });\n  return _react2.default.createElement('button', {\n    type: 'button',\n    className: buttonClass,\n    onClick: onClick\n  }, label);\n};\n\nButton.defaultProps = {\n  isStyleDefault: false,\n  isStyleCancel: false,\n  isStyleDestructive: false\n};\nButton.propTypes = {\n  onClick: _propTypes2.default.func.isRequired,\n  label: _propTypes2.default.string.isRequired,\n  isStyleDefault: _propTypes2.default.bool,\n  isStyleCancel: _propTypes2.default.bool,\n  isStyleDestructive: _propTypes2.default.bool\n};\n\nvar Modal = function Modal(_ref2) {\n  var isModalVisible = _ref2.isModalVisible,\n      hide = _ref2.hide,\n      options = _ref2.options,\n      children = _ref2.children;\n\n  function handleOverlayClicked(e) {\n    if (e.target.className !== 'modali-wrapper') {\n      return;\n    }\n\n    if (options === undefined) {\n      hide();\n    } else {\n      if (options.overlayClose !== false) {\n        hide();\n      }\n\n      if (options.onOverlayClicked) {\n        options.onOverlayClicked();\n      }\n    }\n  }\n\n  function renderBody() {\n    if (children) {\n      return children;\n    }\n\n    if (options && options.message) {\n      return _react2.default.createElement('div', {\n        className: 'modali-body-style'\n      }, options.message);\n    }\n\n    return false;\n  }\n\n  function renderFooter() {\n    var buttons = options.buttons;\n    return _react2.default.createElement('div', {\n      className: 'modali-footer'\n    }, buttons.map(function (button) {\n      return _react2.default.createElement(_react2.default.Fragment, {\n        key: _shortid2.default.generate()\n      }, button);\n    }));\n  }\n\n  var modaliWrapperClass = (0, _classnames2.default)({\n    'modali-wrapper': true,\n    'modali-wrapper-centered': options && options.centered\n  });\n  var modaliClass = (0, _classnames2.default)({\n    modali: true,\n    'modali-size-large': options && options.large,\n    'modali-size-regular': !options || options && !options.large,\n    'modali-animated modali-animation-fade-in': options && options.animated\n  });\n  return isModalVisible ? _reactDom2.default.createPortal(_react2.default.createElement(_react2.default.Fragment, null, _react2.default.createElement('div', {\n    className: 'modali-overlay'\n  }), _react2.default.createElement('div', {\n    className: modaliWrapperClass,\n    'aria-modal': true,\n    'aria-hidden': true,\n    tabIndex: -1,\n    role: 'dialog',\n    onClick: handleOverlayClicked\n  }, _react2.default.createElement('div', {\n    className: modaliClass\n  }, _react2.default.createElement('div', {\n    className: 'modali-content'\n  }, options !== undefined && options.closeButton === false ? null : _react2.default.createElement('div', {\n    className: 'modali-header'\n  }, options !== undefined && options.title !== undefined && _react2.default.createElement('div', {\n    className: 'modali-title'\n  }, options.title), _react2.default.createElement('button', {\n    type: 'button',\n    className: 'modali-close-button',\n    'data-dismiss': 'modal',\n    'aria-label': 'Close',\n    onClick: hide\n  }, _react2.default.createElement('span', {\n    'aria-hidden': 'true'\n  }, '\\xD7'))), _react2.default.createElement('div', {\n    className: 'modali-body'\n  }, renderBody()), options && options.buttons && options.buttons.length > 0 && renderFooter())))), document.body) : null;\n};\n\nvar Modali = function Modali() {};\n\nModali.Button = Button;\nModali.Modal = Modal;\nexports.default = Modali;\n\nvar useModali = exports.useModali = function useModali(options) {\n  var _useState = (0, _react.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasToggledBefore = _useState2[0],\n      setHasToggledBefore = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isModalVisible = _useState4[0],\n      setIsModalVisible = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isShown = _useState6[0],\n      setIsShown = _useState6[1];\n\n  var isModalVisibleRef = (0, _react.useRef)(isModalVisible);\n  isModalVisibleRef.current = isModalVisible;\n  var timeoutHack = void 0;\n\n  function toggle() {\n    timeoutHack = setTimeout(function () {\n      setIsModalVisible(!isModalVisibleRef.current);\n      clearTimeout(timeoutHack);\n    }, 10);\n    setIsShown(!isShown);\n    setHasToggledBefore(true);\n  }\n\n  function handleKeyDown(event) {\n    if (event.keyCode !== 27 || options && options.keyboardClose === false) return;\n    toggle();\n\n    if (options && options.onEscapeKeyDown) {\n      options.onEscapeKeyDown();\n    }\n  }\n\n  (0, _react.useEffect)(function () {\n    if (isShown) {\n      if (options && options.onShow) {\n        options.onShow();\n      }\n\n      document.addEventListener('keydown', handleKeyDown);\n      document.body.classList.add('modali-open');\n    }\n\n    if (!isShown && hasToggledBefore) {\n      if (options && options.onHide) {\n        options.onHide();\n      }\n\n      document.body.classList.remove('modali-open');\n    }\n\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [isShown]);\n  return [{\n    isShown: isShown,\n    isModalVisible: isModalVisible,\n    hide: toggle,\n    options: options\n  }, toggle];\n};","map":{"version":3,"sources":["C:/Users/Daniel Brusky/OneDrive/Desktop/papers/client/node_modules/modali/dist/index.js"],"names":["Object","defineProperty","exports","value","useModali","undefined","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_react","require","_react2","_interopRequireDefault","_reactDom","_reactDom2","_propTypes","_propTypes2","_classnames","_classnames2","_shortid","_shortid2","obj","__esModule","default","Button","_ref","onClick","label","isStyleDefault","isStyleCancel","isStyleDestructive","buttonClass","createElement","type","className","defaultProps","propTypes","func","isRequired","string","bool","Modal","_ref2","isModalVisible","hide","options","children","handleOverlayClicked","e","target","overlayClose","onOverlayClicked","renderBody","message","renderFooter","buttons","map","button","Fragment","key","generate","modaliWrapperClass","centered","modaliClass","modali","large","animated","createPortal","tabIndex","role","closeButton","title","document","body","Modali","_useState","useState","_useState2","hasToggledBefore","setHasToggledBefore","_useState3","_useState4","setIsModalVisible","_useState5","_useState6","isShown","setIsShown","isModalVisibleRef","useRef","current","timeoutHack","toggle","setTimeout","clearTimeout","handleKeyDown","event","keyCode","keyboardClose","onEscapeKeyDown","useEffect","onShow","addEventListener","classList","add","onHide","remove","removeEventListener"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useModali = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _shortid = require('shortid');\n\nvar _shortid2 = _interopRequireDefault(_shortid);\n\nrequire('./modali.css');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Button = function Button(_ref) {\n  var onClick = _ref.onClick,\n      label = _ref.label,\n      isStyleDefault = _ref.isStyleDefault,\n      isStyleCancel = _ref.isStyleCancel,\n      isStyleDestructive = _ref.isStyleDestructive;\n\n  var buttonClass = (0, _classnames2.default)({\n    'modali-button': true,\n    'modali-button-cancel': isStyleCancel,\n    'modali-button-default': isStyleDefault,\n    'modali-button-destructive': isStyleDestructive\n  });\n  return _react2.default.createElement(\n    'button',\n    {\n      type: 'button',\n      className: buttonClass,\n      onClick: onClick\n    },\n    label\n  );\n};\n\nButton.defaultProps = {\n  isStyleDefault: false,\n  isStyleCancel: false,\n  isStyleDestructive: false\n};\n\nButton.propTypes = {\n  onClick: _propTypes2.default.func.isRequired,\n  label: _propTypes2.default.string.isRequired,\n  isStyleDefault: _propTypes2.default.bool,\n  isStyleCancel: _propTypes2.default.bool,\n  isStyleDestructive: _propTypes2.default.bool\n};\n\nvar Modal = function Modal(_ref2) {\n  var isModalVisible = _ref2.isModalVisible,\n      hide = _ref2.hide,\n      options = _ref2.options,\n      children = _ref2.children;\n\n  function handleOverlayClicked(e) {\n    if (e.target.className !== 'modali-wrapper') {\n      return;\n    }\n    if (options === undefined) {\n      hide();\n    } else {\n      if (options.overlayClose !== false) {\n        hide();\n      }\n      if (options.onOverlayClicked) {\n        options.onOverlayClicked();\n      }\n    }\n  }\n\n  function renderBody() {\n    if (children) {\n      return children;\n    }if (options && options.message) {\n      return _react2.default.createElement(\n        'div',\n        { className: 'modali-body-style' },\n        options.message\n      );\n    }\n    return false;\n  }\n\n  function renderFooter() {\n    var buttons = options.buttons;\n\n    return _react2.default.createElement(\n      'div',\n      { className: 'modali-footer' },\n      buttons.map(function (button) {\n        return _react2.default.createElement(\n          _react2.default.Fragment,\n          {\n            key: _shortid2.default.generate()\n          },\n          button\n        );\n      })\n    );\n  }\n\n  var modaliWrapperClass = (0, _classnames2.default)({\n    'modali-wrapper': true,\n    'modali-wrapper-centered': options && options.centered\n  });\n\n  var modaliClass = (0, _classnames2.default)({\n    modali: true,\n    'modali-size-large': options && options.large,\n    'modali-size-regular': !options || options && !options.large,\n    'modali-animated modali-animation-fade-in': options && options.animated\n  });\n\n  return isModalVisible ? _reactDom2.default.createPortal(_react2.default.createElement(\n    _react2.default.Fragment,\n    null,\n    _react2.default.createElement('div', { className: 'modali-overlay' }),\n    _react2.default.createElement(\n      'div',\n      { className: modaliWrapperClass, 'aria-modal': true, 'aria-hidden': true, tabIndex: -1, role: 'dialog', onClick: handleOverlayClicked },\n      _react2.default.createElement(\n        'div',\n        { className: modaliClass },\n        _react2.default.createElement(\n          'div',\n          { className: 'modali-content' },\n          options !== undefined && options.closeButton === false ? null : _react2.default.createElement(\n            'div',\n            { className: 'modali-header' },\n            options !== undefined && options.title !== undefined && _react2.default.createElement(\n              'div',\n              { className: 'modali-title' },\n              options.title\n            ),\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'modali-close-button', 'data-dismiss': 'modal', 'aria-label': 'Close', onClick: hide },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'modali-body' },\n            renderBody()\n          ),\n          options && options.buttons && options.buttons.length > 0 && renderFooter()\n        )\n      )\n    )\n  ), document.body) : null;\n};\n\nvar Modali = function Modali() {};\nModali.Button = Button;\nModali.Modal = Modal;\nexports.default = Modali;\nvar useModali = exports.useModali = function useModali(options) {\n  var _useState = (0, _react.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasToggledBefore = _useState2[0],\n      setHasToggledBefore = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isModalVisible = _useState4[0],\n      setIsModalVisible = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isShown = _useState6[0],\n      setIsShown = _useState6[1];\n\n  var isModalVisibleRef = (0, _react.useRef)(isModalVisible);\n  isModalVisibleRef.current = isModalVisible;\n  var timeoutHack = void 0;\n\n  function toggle() {\n    timeoutHack = setTimeout(function () {\n      setIsModalVisible(!isModalVisibleRef.current);\n      clearTimeout(timeoutHack);\n    }, 10);\n    setIsShown(!isShown);\n    setHasToggledBefore(true);\n  }\n\n  function handleKeyDown(event) {\n    if (event.keyCode !== 27 || options && options.keyboardClose === false) return;\n    toggle();\n    if (options && options.onEscapeKeyDown) {\n      options.onEscapeKeyDown();\n    }\n  }\n\n  (0, _react.useEffect)(function () {\n    if (isShown) {\n      if (options && options.onShow) {\n        options.onShow();\n      }\n      document.addEventListener('keydown', handleKeyDown);\n      document.body.classList.add('modali-open');\n    }\n    if (!isShown && hasToggledBefore) {\n      if (options && options.onHide) {\n        options.onHide();\n      }\n      document.body.classList.remove('modali-open');\n    }\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [isShown]);\n\n  return [{\n    isShown: isShown,\n    isModalVisible: isModalVisible,\n    hide: toggle,\n    options: options\n  }, toggle];\n};"]},"metadata":{},"sourceType":"script"}