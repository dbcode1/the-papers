{"ast":null,"code":"import axios from 'axios';\nimport { setAlert } from './alert';\nimport { GET_CARDS, CARD_ERROR, ADD_CARD } from './types'; // get posts\n\nexport const getCards = searchTerm => async (dispatch, res, req) => {\n  try {\n    const res = await axios.get('/search-news', {\n      params: {\n        q: searchTerm\n      }\n    });\n    dispatch({\n      type: GET_CARDS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: CARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const addCard = (title, img, url, containerTitle) => async (dispatch, res, req) => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }; // send card data to collection in DB\n\n  try {\n    const res = await axios({\n      method: 'post',\n      url: '/card',\n      data: {\n        title,\n        img,\n        url,\n        containerTitle\n      },\n      config\n    });\n    console.log('addCard', res);\n  } catch (err) {\n    console.log(err.message);\n  }\n}; // export const retrieveCards = (containerTitle) => async (dispatch, res, req) => {\n//   try { \n//     const res = await axios.get('/card', {\n// \t\t\tparams: {\n// \t\t\t\tq: containerTitle,\n// \t\t\t},\n// \t\t});\n//     dispatch({\n//       type: RETRIEVE_CARDS_SUCCESS,\n//       payload: res.data\n//     })\n//   } catch(err) {\n//     dispatch({\n//       type: RETRIEVE_CARDS_FAILURE,\n//       payload: { msg: err.response.statusText, status: err.response.status}\n//     })\n//   }\n// }","map":{"version":3,"sources":["C:/Users/Daniel Brusky/OneDrive/Desktop/papers/client/src/actions/card.js"],"names":["axios","setAlert","GET_CARDS","CARD_ERROR","ADD_CARD","getCards","searchTerm","dispatch","res","req","get","params","q","type","payload","data","err","msg","response","statusText","status","addCard","title","img","url","containerTitle","config","headers","method","console","log","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,SAAvB;AACA,SACEC,SADF,EAEEC,UAFF,EAEcC,QAFd,QAGO,SAHP,C,CAKA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,UAAD,IAAgB,OAAOC,QAAP,EAAiBC,GAAjB,EAAsBC,GAAtB,KAA8B;AACpE,MAAI;AACF,UAAMD,GAAG,GAAG,MAAMR,KAAK,CAACU,GAAN,CAAU,cAAV,EAA0B;AAC7CC,MAAAA,MAAM,EAAE;AACPC,QAAAA,CAAC,EAAEN;AADI;AADqC,KAA1B,CAAlB;AAKAC,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEX,SADC;AAEPY,MAAAA,OAAO,EAAEN,GAAG,CAACO;AAFN,KAAD,CAAR;AAID,GAVD,CAUE,OAAMC,GAAN,EAAW;AACXT,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEV,UADC;AAEPW,MAAAA,OAAO,EAAE;AAAEG,QAAAA,GAAG,EAAED,GAAG,CAACE,QAAJ,CAAaC,UAApB;AAAgCC,QAAAA,MAAM,EAAEJ,GAAG,CAACE,QAAJ,CAAaE;AAArD;AAFF,KAAD,CAAR;AAID;AACF,CAjBM;AAoBP,OAAO,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,GAAR,EAAaC,GAAb,EAAkBC,cAAlB,KAAqC,OAAOlB,QAAP,EAAiBC,GAAjB,EAAsBC,GAAtB,KAA+B;AAEzF,QAAMiB,MAAM,GAAG;AACfC,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AADM,GAAf,CAFyF,CAMzF;;AACA,MAAI;AACF,UAAMnB,GAAG,GAAG,MAAMR,KAAK,CAAC;AACtB4B,MAAAA,MAAM,EAAE,MADc;AAEtBJ,MAAAA,GAAG,EAAE,OAFiB;AAGtBT,MAAAA,IAAI,EAAE;AACJO,QAAAA,KADI;AAEJC,QAAAA,GAFI;AAGJC,QAAAA,GAHI;AAIJC,QAAAA;AAJI,OAHgB;AAStBC,MAAAA;AATsB,KAAD,CAAvB;AAYAG,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBtB,GAAvB;AACD,GAdD,CAgBA,OAAMQ,GAAN,EAAW;AACTa,IAAAA,OAAO,CAACC,GAAR,CAAYd,GAAG,CAACe,OAAhB;AACD;AACF,CA1BM,C,CA4BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios'\r\nimport {setAlert} from './alert';\r\nimport {\r\n  GET_CARDS,\r\n  CARD_ERROR, ADD_CARD\r\n} from './types'\r\n\r\n// get posts\r\nexport const getCards = (searchTerm) => async (dispatch, res, req) => {\r\n  try { \r\n    const res = await axios.get('/search-news', {\r\n\t\t\tparams: {\r\n\t\t\t\tq: searchTerm,\r\n\t\t\t},\r\n\t\t});\r\n    dispatch({\r\n      type: GET_CARDS,\r\n      payload: res.data\r\n    })\r\n  } catch(err) {\r\n    dispatch({\r\n      type: CARD_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status}\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport const addCard = (title, img, url, containerTitle) => async (dispatch, res, req) =>  {\r\n  \r\n  const config = { \r\n\t\theaders: {'Content-Type': 'application/json'\r\n\t\t}\r\n  }\r\n  // send card data to collection in DB\r\n  try {\r\n    const res = await axios({\r\n      method: 'post',\r\n      url: '/card',\r\n      data: {\r\n        title,\r\n        img,\r\n        url,\r\n        containerTitle \r\n      },\r\n      config\r\n    } ) \r\n\r\n    console.log('addCard', res)\r\n  }\r\n  \r\n  catch(err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\n// export const retrieveCards = (containerTitle) => async (dispatch, res, req) => {\r\n//   try { \r\n//     const res = await axios.get('/card', {\r\n// \t\t\tparams: {\r\n// \t\t\t\tq: containerTitle,\r\n// \t\t\t},\r\n// \t\t});\r\n//     dispatch({\r\n//       type: RETRIEVE_CARDS_SUCCESS,\r\n//       payload: res.data\r\n//     })\r\n//   } catch(err) {\r\n//     dispatch({\r\n//       type: RETRIEVE_CARDS_FAILURE,\r\n//       payload: { msg: err.response.statusText, status: err.response.status}\r\n//     })\r\n//   }\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}