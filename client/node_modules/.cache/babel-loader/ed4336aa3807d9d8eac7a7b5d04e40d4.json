{"ast":null,"code":"import axios from 'axios';\nimport { setAlert } from './alert';\nimport { GET_CARDS, CARD_ERROR, ADD_CARD } from './types'; // get posts\n\nexport const getCards = searchTerm => async (dispatch, res, req) => {\n  try {\n    const res = await axios.get('/search-news', {\n      params: {\n        q: searchTerm\n      }\n    });\n    dispatch({\n      type: GET_CARDS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: CARD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const addCard = (url, title, img) => async (dispatch, res, req) => {\n  console.log(url, title);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }; // send card data to collection in DB\n\n  try {\n    const res = await axios({\n      method: 'post',\n      url: '/card',\n      body: {\n        url,\n        title,\n        img\n      },\n      config\n    });\n  } catch (err) {\n    console.log(err.message);\n  }\n};","map":{"version":3,"sources":["C:/Users/Daniel Brusky/OneDrive/Desktop/papers/client/src/actions/card.js"],"names":["axios","setAlert","GET_CARDS","CARD_ERROR","ADD_CARD","getCards","searchTerm","dispatch","res","req","get","params","q","type","payload","data","err","msg","response","statusText","status","addCard","url","title","img","console","log","config","headers","method","body","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,SAAvB;AACA,SACEC,SADF,EAEEC,UAFF,EAEcC,QAFd,QAGO,SAHP,C,CAKA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,UAAD,IAAgB,OAAOC,QAAP,EAAiBC,GAAjB,EAAsBC,GAAtB,KAA8B;AACpE,MAAI;AACF,UAAMD,GAAG,GAAG,MAAMR,KAAK,CAACU,GAAN,CAAU,cAAV,EAA0B;AAC7CC,MAAAA,MAAM,EAAE;AACPC,QAAAA,CAAC,EAAEN;AADI;AADqC,KAA1B,CAAlB;AAKAC,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEX,SADC;AAEPY,MAAAA,OAAO,EAAEN,GAAG,CAACO;AAFN,KAAD,CAAR;AAID,GAVD,CAUE,OAAMC,GAAN,EAAW;AACXT,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAEV,UADC;AAEPW,MAAAA,OAAO,EAAE;AAAEG,QAAAA,GAAG,EAAED,GAAG,CAACE,QAAJ,CAAaC,UAApB;AAAgCC,QAAAA,MAAM,EAAEJ,GAAG,CAACE,QAAJ,CAAaE;AAArD;AAFF,KAAD,CAAR;AAID;AACF,CAjBM;AAoBP,OAAO,MAAMC,OAAO,GAAG,CAACC,GAAD,EAAMC,KAAN,EAAaC,GAAb,KAAqB,OAAOjB,QAAP,EAAiBC,GAAjB,EAAsBC,GAAtB,KAA+B;AACzEgB,EAAAA,OAAO,CAACC,GAAR,CAAaJ,GAAb,EAAkBC,KAAlB;AACA,QAAMI,MAAM,GAAG;AACfC,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AADM,GAAf,CAFyE,CAMzE;;AACA,MAAI;AACF,UAAMpB,GAAG,GAAG,MAAMR,KAAK,CAAC;AACtB6B,MAAAA,MAAM,EAAE,MADc;AAEtBP,MAAAA,GAAG,EAAE,OAFiB;AAGtBQ,MAAAA,IAAI,EAAE;AACJR,QAAAA,GADI;AAEJC,QAAAA,KAFI;AAGJC,QAAAA;AAHI,OAHgB;AAQtBG,MAAAA;AARsB,KAAD,CAAvB;AAYD,GAbD,CAeA,OAAMX,GAAN,EAAW;AACTS,IAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACe,OAAhB;AACD;AACF,CAzBM","sourcesContent":["import axios from 'axios'\r\nimport {setAlert} from './alert';\r\nimport {\r\n  GET_CARDS,\r\n  CARD_ERROR, ADD_CARD\r\n} from './types'\r\n\r\n// get posts\r\nexport const getCards = (searchTerm) => async (dispatch, res, req) => {\r\n  try { \r\n    const res = await axios.get('/search-news', {\r\n\t\t\tparams: {\r\n\t\t\t\tq: searchTerm,\r\n\t\t\t},\r\n\t\t});\r\n    dispatch({\r\n      type: GET_CARDS,\r\n      payload: res.data\r\n    })\r\n  } catch(err) {\r\n    dispatch({\r\n      type: CARD_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status}\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport const addCard = (url, title, img) => async (dispatch, res, req) =>  {\r\n  console.log( url, title)\r\n  const config = { \r\n\t\theaders: {'Content-Type': 'application/json'\r\n\t\t}\r\n  }\r\n  // send card data to collection in DB\r\n  try {\r\n    const res = await axios({\r\n      method: 'post',\r\n      url: '/card',\r\n      body: {\r\n        url,\r\n        title,\r\n        img\r\n      },\r\n      config\r\n    } ) \r\n    \r\n\r\n  }\r\n  \r\n  catch(err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}